# 计算机网络

## UDP 和 TCP

#### UDP

UDP，用户数据报协议，是网络五层模型传输层上面的协议。
1. UDP是一个面向报文的协议。意思就是UDP只是对报文进行搬运，不会对报文进行才分和拼接操作。
2. UDP不可靠，无连接，它接收到什么数据就返回什么数据，不会对数据进行备份，也不会关心对方能不能接收到数据。
3. UDP高效：因为UDP没有TCP那么复杂，头部开销很小，相比TCP至少20个字节要少得多。
4. UDP支持一对一、多对多、多对一的传输方式。
5. 应用场景：在某些实时性要求较高的场景，如电话会议、视频直播等。

#### TCP

TCP传输控制协议，是一种面向连接的、可靠的、基于字节流的传输层通信协议
1. 面向连接：TCP的连接过程一共有以下三步，三次握手、传输数据、四次挥手
2. TCP的可靠性：通过将数据分成报文段、超时重传机制、首部和数据的校验和保证数据的可靠性。
3. TCP只支持一对一的传输方式
4. 因为TCP头部至少是会有20个字节的数据，还要在发送请求之前进行三次握手，所以它的传输效率是相比UDP来说是比较低的。

## HTTP/HTTPS
[菜鸟网站 HTTP](https://www.runoob.com/http/http-tutorial.html)是应用层维持客户端和服务端进行网络通信的协议
1. 客户端向服务器发送请求报文，服务端就需要向客户端回送响应报文，http规定了请求响应的报文格式。
2. 请求报文格式：请求行的请求方法、请求URL、http版本；请求头部、空行和请求体
3. 响应报文格式：状态行的协议版本、状态码和描述状态；响应头部、空行和响应体
4. HTTP是基于传输层TCP协议的，需要TCP三次握手后建立可靠连接才能进行应用层的通信。
5. HTTP 是一种无状态 (stateless) 协议, HTTP协议本身不会对发送过的请求和相应的通信状态进行持久化处理。这样做的目的是为了保持HTTP协议的简单性，从而能够快速处理大量的事务, 提高效率。
6. HTTPS：HTTP 协议中没有加密机制,但可以通 过和 SSL(Secure Socket Layer, 安全套接层 )或 TLS(Transport Layer Security, 安全层传输协议)的组合使用,加密 HTTP 的通信内容。属于通信加密，即在整个通信线路中加密。
7. HTTPS 采用共享密钥加密（对称）和公开密钥加密（非对称）两者并用的混合加密机制。

#### HTTP 与 HTTPS 区别
加密：
>- HTTP：数据传输过程中不加密，容易被截获和篡改。
>- HTTPS：使用SSL/TLS协议对传输的数据进行加密，保护数据传输过程中的安全性。

端口
> - HTTP：默认使用端口80。
> - HTTPS：默认使用端口443。

安全性：
> - HTTP：不提供数据加密，安全性较低。
> - HTTPS：提供数据加密和完整性校验，安全性较高。

证书：
> - HTTP：不需要证书。
> - HTTPS：需要SSL证书来启用加密，并验证服务器的身份。

性能：
> - HTTP：由于不加密数据，性能略高于HTTPS。
> - HTTPS：由于需要进行加密和解密，可能会有一定的性能开销。

搜索引擎优化(SEO)：
> - HTTP：搜索引擎可能会对没有使用HTTPS的网站进行降权。
> - HTTPS：搜索引擎倾向于优先索引和展示使用HTTPS的网站。

浏览器显示
> - HTTP：在大多数现代浏览器中，HTTP网站通常显示为"不安全"。
> - HTTPS：浏览器会显示一个锁形图标，表示网站是安全的。

成本：
> - HTTP：通常免费。
> - HTTPS：需要购买SSL证书，可能会有一定的成本。

应用场景：
> - HTTP：适用于不需要传输敏感信息的网站，如新闻网站、博客等。
> - HTTPS：适用于需要传输敏感信息的网站，如网上银行、在线购物、电子邮件等。

## CDN
CDN就是采用更多的缓存服务器（CDN边缘节点），布放在用户访问相对集中的地区或网络中。当用户访问网站时，利用全局负载技术，将用户的访问指向距离最近的缓存服务器上，由缓存服务器响应用户请求。

#### CDN的步骤
具体步骤：
<br>①、当用户点击APP上的内容，APP会根据URL地址去本地DNS（域名解析系统）寻求IP地址解析。
<br>②、本地DNS系统会将域名的解析权交给CDN专用DNS服务器。
<br>③、CDN专用DNS服务器，将CDN的全局负载均衡设备IP地址返回用户。
<br>④、用户向CDN的负载均衡设备发起内容URL访问请求。
<br>⑤、CDN负载均衡设备根据用户IP地址，以及用户请求的内容URL，选择一台用户所属区域的缓存服务器。
<br>⑥、负载均衡设备告诉用户这台缓存服务器的IP地址，让用户向所选择的缓存服务器发起请求。
<br>⑦、用户向缓存服务器发起请求，缓存服务器响应用户请求，将用户所需内容传送到用户终端。
<br>⑧、如果这台缓存服务器上并没有用户想要的内容，那么这台缓存服务器就要网站的源服务器请求内容。
<br>⑨、源服务器返回内容给缓存服务器，缓存服务器发给用户，并根据用户自定义的缓存策略，判断要不要把内容缓存到缓存服务器上。

![CDN.webp](/imgs/CDN.webp)

#### CDN的好处
1. 就是加速了网站的访问——用户与内容之间的物理距离缩短，用户的等待时间也得以缩短。
2. CDN还有安全方面的好处。内容进行分发后，源服务器的IP被隐藏，受到攻击的概率会大幅下降。而且，当某个服务器故障时，系统会调用临近的健康服务器，进行服务，避免对用户造成影响。


## IPV4和IPV6

1. IPV4是32位长度的（转为10进制，点分十进制表示），IPV6是128位长度的（转化为16进制的，用冒号：进行分割，根据0的特点还能进行简写）。
2. IPV4和IPV6的首部，首先都有版本、源地址和目的地址，IPV6虽然在IPV4的基础上进行改进，但其首部要比IPV4少得多。
3. IPV4可以基于子网掩码进行CIDR，但是IPV6没有子网掩码。
4. IPV6并没有像IPV4那样分ABCD类地址了，分全球单播地址(公有地址)、链路本地地址（fe80:开头），回环地址(::1/128)、未指明地址（::/128）
5. 虽然IPV6在设计的时候考虑了很多的安全问题，但是目前用的并不是很广泛，也不能确定IPV4和IPV6哪个更安全。