# äºŒåˆ†æŸ¥æ‰¾ ğŸ°

## 35. æœç´¢æ’å…¥ä½ç½®

```javascript
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number}
 */
var searchInsert = function (nums, target) {
  let left = 0,
    right = nums.length - 1;
  while (left <= right) {
    const mid = Math.floor((left + right) / 2);
    if (nums[mid] == target) {
      return mid;
    } else if (nums[mid] > target) {
      right = mid - 1;
    } else {
      left = mid + 1;
    }
  }
  return left; //leftå°±æ˜¯å®‰æ’çš„é‚£ä¸ªç‚¹ï¼ï¼ï¼
};
```

## 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®

```javascript
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number[]}
 */
var searchRange = function (nums, target) {
  let index = search(nums, target);
  if (index == -1) return [-1, -1];

  let left = index,
    rigth = index;
  while (nums[left] == target || nums[rigth] == target) {
    if (nums[left] == target) left--;
    if (nums[rigth] == target) rigth++;
  }
  return [left + 1, rigth - 1];
};

//åˆæ˜¯å¼€å§‹è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼ï¼ï¼
const search = (nums, target) => {
  let low = 0,
    high = nums.length;
  while (low <= high) {
    const mid = Math.floor((low + high) / 2);
    if (nums[mid] == target) {
      return mid;
    } else if (nums[mid] > target) {
      high = mid - 1;
    } else {
      low = mid + 1;
    }
  }
  return -1;
};
```

## 69. x çš„å¹³æ–¹æ ¹

```javascript
/**
 * @param {number} x
 * @return {number}
 */
var mySqrt = function (x) {
  //ç”¨äºŒåˆ†æ³•è¿›è¡Œæ±‚è§£ï¼šå·¦é—­å³å¼€åŒºé—´
  let low = 0,
    high = Math.ceil(x / 2); //ä¼˜åŒ–æ–¹æ¡ˆç‚¹
  while (low < high) {
    const mid = Math.ceil((high + low) / 2);
    const res = mid * mid;
    if (res == x) {
      return mid;
    } else if (res > x) {
      high = mid - 1;
    } else {
      low = mid;
    }
  }
  return low;
};
```

## 367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°

```javascript
/**
 * @param {number} num
 * @return {boolean}
 */
var isPerfectSquare = function (num) {
  //4=1+3 9=1+3+5 16=1+3+5+7ä»¥æ­¤ç±»æ¨ï¼Œæ¨¡ä»¿å®ƒå¯ä»¥ä½¿ç”¨ä¸€ä¸ªwhileå¾ªç¯ï¼Œ
  // ä¸æ–­å‡å»ä¸€ä¸ªä»1å¼€å§‹ä¸æ–­å¢å¤§çš„å¥‡æ•°ï¼Œè‹¥æœ€ç»ˆå‡æˆäº†0ï¼Œè¯´æ˜æ˜¯å®Œå…¨å¹³æ–¹æ•°ï¼Œå¦åˆ™ï¼Œä¸æ˜¯ã€‚
  let num1 = 1;
  while (num > 0) {
    num -= num1;
    num1 += 2;
  }
  return num == 0;
};
```

```javascript
/**
 * @param {number} num
 * @return {boolean}
 */
var isPerfectSquare = function (num) {
  //ç”¨äºŒåˆ†æ³•æ¥è¿›è¡Œæ±‚è§£ï¼šå’Œä¸Šé¢çš„é‚£ä¸ªé¢˜ç›®å·®ä¸å¤šï¼ï¼ï¼
  let low = 0,
    high = Math.ceil(num / 2);
  while (low < high) {
    const mid = Math.ceil((low + high) / 2);
    const res = mid * mid;
    if (res == num) {
      return true;
    } else if (res < num) {
      low = mid;
    } else {
      high = mid - 1;
    }
  }
  return false;
};
```

## 4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°

å…¶å®è¿™ä¸ªé¢˜æˆ‘æ²¡æœ‰ç”¨äºŒåˆ†ï¼Œè‡ªå·±æ¨¡æ‹Ÿäº†ä¸€ä¸‹

```js
/**
 * @param {number[]} nums1
 * @param {number[]} nums2
 * @return {number}
 */
var findMedianSortedArrays = function (nums1, nums2) {
  // è¿™ä¸ªé¢˜ç›®è›®ç®€å•çš„ï¼Œå¬æ€è·¯ï¼šwhile+æ¡ä»¶åˆ¤æ–­éå†åˆ°ä¸­é—´ä½ç½®ï¼
  const len = nums1.length + nums2.length;
  let centerIndex;
  if (len % 2 === 0) {
    // æŒ‡å‘åé¢ä¸€ä¸ª
    centerIndex = len / 2;
  } else {
    centerIndex = Math.floor(len / 2);
  }
  let preVal, curVal;
  let n1 = 0,
    n2 = 0; // åˆ†åˆ«æ˜¯num1 & num2 çš„ç´¢å¼•
  let count = -1;
  while (count !== centerIndex) {
    // éœ€è¦è®°å½•ä¸‹æœ€åæŒ‡å‘çš„å€¼å’Œæœ€ååœæ­¢çš„ä¸Šä¸€æ¬¡å€¼
    preVal = curVal;
    count++;
    if (n1 == nums1.length) {
      curVal = nums2[n2];
      n2++;
      continue;
    }
    if (n2 == nums2.length) {
      curVal = nums1[n1];
      n1++;
      continue;
    }
    if (nums1[n1] > nums2[n2]) {
      curVal = nums2[n2];
      n2++;
    } else {
      curVal = nums1[n1];
      n1++;
    }
  }
  // åˆ¤æ–­å¥‡å¶
  if (len % 2 === 0) {
    return (preVal + curVal) / 2;
  } else {
    return curVal;
  }
};
```

## 295. æ•°æ®æµçš„ä¸­ä½æ•°

```js
var MedianFinder = function () {
  this.arr = [];
};

/**
 * @param {number} num
 * @return {void}
 */
MedianFinder.prototype.addNum = function (num) {
  // æ•°ç»„çš„æ’å…¥ï¼Œç”¨äºŒåˆ†æ³•è¿›è¡Œæ’å…¥
  let left = 0;
  let right = this.arr.length - 1;

  while (left <= right) {
    let mid = Math.floor((left + right) / 2);

    if (this.arr[mid] === num) {
      this.arr.splice(mid, 0, num);
      return;
    } else if (this.arr[mid] < num) {
      left = mid + 1;
    } else {
      right = mid - 1;
    }
  }
  this.arr.splice(left, 0, num);
};

/**
 * @return {number}
 */
MedianFinder.prototype.findMedian = function () {
  const len = this.arr.length;
  let centerIndex;
  if (len % 2 === 0) {
    centerIndex = len / 2;
    return (this.arr[centerIndex - 1] + this.arr[centerIndex]) / 2;
  } else {
    centerIndex = Math.floor(len / 2);
    return this.arr[centerIndex];
  }
};

/**
 * Your MedianFinder object will be instantiated and called as such:
 * var obj = new MedianFinder()
 * obj.addNum(num)
 * var param_2 = obj.findMedian()
 */
```

å°æŠ€å·§ï¼å¦‚æœä½ æƒ³ä»ä¸€ä¸ªç©ºæ•°ç»„èµ·æ­¥ï¼Œå¹¶ä¿æŒæ’å…¥å…ƒç´ åçš„æ•°ç»„æœ‰åºï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š
```js
function insertInOrder(arr, num) {
  let left = 0;
  let right = arr.length - 1;

  while (left <= right) {
    let mid = Math.floor((left + right) / 2);

    if (arr[mid] === num) {
      arr.splice(mid, 0, num);
      return arr;
    } else if (arr[mid] < num) {
      left = mid + 1;
    } else {
      right = mid - 1;
    }
  }

  arr.splice(left, 0, num);
  return arr;
}

let arr = []; // ç©ºæ•°ç»„
arr = insertInOrder(arr, 5);
arr = insertInOrder(arr, 3);
arr = insertInOrder(arr, 8);
console.log(arr); // è¾“å‡ºï¼š [3, 5, 8]
```
